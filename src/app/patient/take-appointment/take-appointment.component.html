<div class="container mt-5">
  <form #appointmentForm="ngForm" (ngSubmit)="submitForm()" novalidate>
    
    <div class="mb-3">
      <label class="form-label">Select Department</label>
      <select
        name="department"
        class="form-select"
        [(ngModel)]="form.department"
        required
        #department="ngModel"
      >
        <option value="" disabled selected>Select one</option>
        <option *ngFor="let dept of departments" [value]="dept">{{ dept }}</option>
      </select>
      <div *ngIf="department.invalid && department.touched" class="text-danger">
        Department is required.
      </div>
    </div>

    <div class="mb-3">
      <label class="form-label">Select Doctor</label>
      <select
        name="doctor"
        class="form-select"
        [(ngModel)]="form.doctor"
        required
        #doctor="ngModel"
      >
        <option value="" disabled selected>Select one</option>
        <option *ngFor="let doc of filteredDoctors" [value]="doc">{{ doc }}</option>
      </select>
      <div *ngIf="doctor.invalid && doctor.touched" class="text-danger">
        Doctor is required.
      </div>
    </div>

    <div class="mb-3">
      <label class="form-label">Select Date</label>
      <input
        type="date"
        class="form-control"
        name="date"
        [(ngModel)]="form.date"
        required
        #date="ngModel"
      />
      <div *ngIf="date.invalid && date.touched" class="text-danger">
        Date is required.
      </div>
    </div>

    <button
      type="submit"
      class="btn btn-success"
      [disabled]="appointmentForm.invalid"
    >
      Book Appointment
    </button>
  </form>
</div>
