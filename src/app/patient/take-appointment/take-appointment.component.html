<div class="appointment-form">
  <h2>Book an Appointment</h2>

  <form (ngSubmit)="submitForm()" #appointmentForm="ngForm">
    <!-- Department Selection -->
    <div>
      <label for="department">Select Department:</label>
      <select
        id="department"
        [(ngModel)]="form.department"
        name="department"
        required
        (change)="onDepartmentChange()"
      >
        <option value="" disabled>Select a department</option>
        <option *ngFor="let dept of departments" [value]="dept">
          {{ dept }}
        </option>
      </select>
    </div>

    <!-- Doctor Selection -->
    <div *ngIf="doctors.length">
      <label for="doctor">Select Doctor:</label>
      <select
        id="doctor"
        [(ngModel)]="form.doctor"
        name="doctor"
        required
        (change)="onDoctorChange()"
      >
        <option value="" disabled>Select a doctor</option>
        <option *ngFor="let doc of doctors" [value]="doc.id">{{ doc.name }}</option>

      </select>
    </div>

    <!-- Date Picker -->
    <div *ngIf="form.doctor">
      <label for="date">Select Date:</label>
      <input
        id="date"
        type="date"
        [(ngModel)]="form.date"
        name="date"
        required
        (change)="onDateChange()"
      />
    </div>

    <!-- Time Slots -->
    <div *ngIf="availableTimes.length">
  <label for="time">Select Time:</label>
  <select
    id="time"
    [(ngModel)]="form.time"
    name="time"
    required
  >
    <option value="" disabled>Select a time slot</option>
    <option *ngFor="let time of availableTimes" [value]="time">
      {{ time }}
    </option>
  </select>
</div>

    <!-- Submit Button -->
    <div class="submit-btn">
      <button type="submit">Book Appointment</button>
    </div>
  </form>
</div>
